<div class="flex flex-col gap-4">
  @for (card of cards(); track card.id) {
    <div
      class="bg-white rounded-md shadow-card-sm cursor-pointer transition-all duration-200 hover:shadow-md border border-gray-50 p-[13px_18px]"
      (click)="toggleCard(card.id)"
      (keydown.enter)="toggleCard(card.id)"
      (keydown.space)="toggleCard(card.id); $event.preventDefault()"
      tabindex="0"
      role="button"
      [attr.aria-expanded]="card.expanded"
    >
      <!-- Card Title -->
      <div class="mb-4">
        <h3
          class=" text-base leading-md font-bold tracking-1 capitalize text-[#030229] opacity-70"
        >
          {{ card.title }}
        </h3>
      </div>

      <!-- Items - Always Visible -->
      <div class="mb-4 flex flex-col gap-4">
        @for (item of card.items; track item.label) {
          <!-- Entire item with gray background -->
          <div
            class="bg-gray-25 rounded-sm flex items-center  px-4 gap-4"
          >
            <img
              src="assets/icons/server.svg"
              alt="server"
              class="flex-shrink-0 w-[53px] h-[53px] min-w-[53px] min-h-[53px]"
            />

            <div
              class="flex-1 flex flex-col md:flex-row items-start md:items-center gap-4"
            >
              <div class="flex-shrink-0">
                <div
                  class=" text-[12.15px] leading-[13.5px] font-semibold tracking-normal text-slate-700"
                >
                  {{ item.label }}
                </div>
                <div
                  class=" text-[9.45px] leading-[10.13px] font-medium tracking-normal text-gray-500"
                >
                  {{ item.sublabel }}
                </div>
              </div>

              <div class="hidden md:block w-px bg-gray-300 h-16"></div>

              <div
                class="flex-1  text-xss leading-md font-normal tracking-1 capitalize text-slate-700 py-2.5"
              >
                {{ item.info }}
              </div>
            </div>
          </div>
        }
      </div>

      <!-- Expandable Description (Full Description) -->
      <div
        [class.max-h-0]="!card.expanded"
        [class.max-h-[500px]]="card.expanded"
        [class.opacity-0]="!card.expanded"
        [class.opacity-100]="card.expanded"
        class="overflow-hidden transition-all duration-300 ease-in-out"
        [class.mt-4]="card.expanded"
        [class.mt-0]="!card.expanded"
      >
        <p
          class=" text-base-md leading-md font-normal tracking-1 capitalize text-gray-700"
        >
          {{ card.description }}
        </p>
      </div>
    </div>
  }
</div>
